<!DOCTYPE html><html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Boulangerieee</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #000; color: #fff;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
  }
  h1 { margin-bottom: 10px; color: #ff69b4; text-shadow: 0 0 10px #ff69b4, 0 0 20px #ff69b4; }
  #menu-btn { position: fixed; top: 20px; right: 20px; background: transparent; border: none; font-size: 26px; cursor: pointer; color: #ff69b4; }
  #overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: none; flex-direction: column; align-items: center; padding-top: 60px; z-index: 1000; }
  #close-menu { position: fixed; top: 20px; right: 20px; background: transparent; border: none; font-size: 28px; cursor: pointer; color: #ff69b4; }
  #profiles { margin-top: 40px; text-align: center; color: #ff69b4; }
  #input-zone { display: flex; gap: 10px; margin-bottom: 20px; align-items: center; }
  select, input { padding: 8px 12px; border-radius: 8px; border: 1px solid #555; background: #111; color: #fff; }
  button { padding: 8px 12px; border-radius: 8px; border: none; background: #ff69b4; cursor: pointer; }
  #pain-list { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; max-width: 600px; }
  .pain-item { background: #222; padding: 10px 14px; border-radius: 20px; display: flex; flex-direction: column; align-items: center; gap: 6px; border: 2px solid #ff69b4; min-width: 150px; box-shadow: 0 0 15px #ff69b4, 0 0 30px #ff69b4; transition: opacity 0.3s; }
  .hidden { opacity: 0; pointer-events: none; }
  .top-line { display: flex; align-items: center; justify-content: space-between; width: 100%; }
  .delete-btn { background: transparent; border: none; cursor: pointer; font-size: 14px; color: #ff69b4; }
  .author-name { font-weight: bold; color: #ff69b4; text-shadow: 0 0 5px #ff69b4, 0 0 10px #ff69b4; margin-bottom: 4px; }
  .stars { display: flex; gap: 3px; cursor: pointer; }
  .star { font-size: 18px; color: #555; }
  .star.filled { color: #ff69b4; text-shadow: 0 0 5px #ff69b4, 0 0 10px #ff69b4; }
  .rating-text { font-size: 18px; opacity: 0.9; color: #ff69b4; text-shadow: 0 0 5px #ff69b4, 0 0 10px #ff69b4; }
</style>
</head>
<body>
  <button id="menu-btn">â˜°</button>
  <div id="overlay">
    <button id="close-menu">âœ–</button>
    <h2>Profils des Auteurs</h2>
    <div id="profiles"></div>
  </div>  <h1>Boulangerie des Pains ðŸ¥–ðŸ’—</h1>
  <div id="input-zone">
    <select id="author-select">
      <option value="ToxicoðŸš¬ðŸ˜Ž">ToxicoðŸš¬ðŸ˜Ž</option>
      <option value="FalafelðŸ’„ðŸ¤­">FalafelðŸ’„ðŸ¤­</option>
      <option value="GouminðŸŒ¸ðŸ˜˜">GouminðŸŒ¸ðŸ˜˜</option>
      <option value="MousieuhðŸ’…ðŸ¤ª">MousieuhðŸ’…ðŸ¤ª</option>
    </select>
    <input type="text" id="name-input" placeholder="Nom du pain...">
    <button id="add-btn">Ajouter</button>
  </div>
  <div id="pain-list"></div><script>
  const input = document.getElementById('name-input');
  const authorSelect = document.getElementById('author-select');
  const addBtn = document.getElementById('add-btn');
  const painList = document.getElementById('pain-list');
  const overlay = document.getElementById('overlay');
  const menuBtn = document.getElementById('menu-btn');
  const closeMenu = document.getElementById('close-menu');
  const profilesDiv = document.getElementById('profiles');

  let pains = JSON.parse(localStorage.getItem('pains')) || [];

  function save() {
    localStorage.setItem('pains', JSON.stringify(pains));
  }

  function renderProfiles() {
    const authors = ["ToxicoðŸš¬ðŸ˜Ž","FalafelðŸ’„ðŸ¤­","GouminðŸŒ¸ðŸ˜˜","MousieuhðŸ’…ðŸ¤ª"];
    profilesDiv.innerHTML = '';
    authors.forEach(author => {
      const authorPains = pains.filter(p => p.author === author);
      const count = authorPains.length;
      let avg = 0;
      if (count > 0) {
        avg = authorPains.reduce((sum, p) => sum + (p.rating || 0), 0) / count;
      }
      const div = document.createElement('div');
      div.innerHTML = `<h3>${author}</h3><p>Pains: ${count}</p><p>Moyenne: ${avg.toFixed(2)}/5</p><hr>`;
      profilesDiv.appendChild(div);
    });
  }

  function render() {
    painList.innerHTML = '';
    pains.forEach((item, index) => {
      const div = document.createElement('div');
      div.className = 'pain-item';
      if (overlay.style.display === 'flex') div.classList.add('hidden');

      const authorDiv = document.createElement('div');
      authorDiv.className = 'author-name';
      authorDiv.textContent = item.author;
      div.appendChild(authorDiv);

      const top = document.createElement('div');
      top.className = 'top-line';
      top.innerHTML = `${item.name}`;

      const del = document.createElement('button');
      del.className = 'delete-btn';
      del.textContent = 'ðŸ—‘ï¸';
      del.onclick = () => {
        pains.splice(index, 1);
        save();
        render();
      };
      top.appendChild(del);
      div.appendChild(top);

      const starContainer = document.createElement('div');
      starContainer.className = 'stars';
      const rating = item.rating || 0;
      for (let i = 1; i <= 5; i++) {
        const s = document.createElement('span');
        s.className = 'star' + (i <= rating ? ' filled' : '');
        s.textContent = 'â˜…';
        s.onclick = () => {
          pains[index].rating = i;
          save();
          render();
        };
        starContainer.appendChild(s);
      }
      div.appendChild(starContainer);

      if (rating > 0 && overlay.style.display !== 'flex') {
        const rt = document.createElement('div');
        rt.className = 'rating-text';
        rt.textContent = `(Note: ${rating}/5)`;
        div.appendChild(rt);
      }

      painList.appendChild(div);
    });
  }

  addBtn.onclick = () => {
    const name = input.value.trim();
    const author = authorSelect.value;
    if (name !== '') {
      pains.push({ name, author, rating: 0 });
      save();
      render();
      input.value = '';
    }
  };

  menuBtn.onclick = () => {
    overlay.style.background = '#000';
    renderProfiles();
    overlay.style.display = 'flex';
    render();
  };

  closeMenu.onclick = () => {
    overlay.style.display = 'none';
    render();
  };

  render();
</script></body>
</html>
